(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{424:function(t,e,a){"use strict";a.r(e);var s=a(1),n=a.n(s),o={data:function(){return{incomes:[],expenses:[],totalIncome:0,totalExpense:0,range:!0,showCurrent:!0,pickers:[],pickedString:"",startDate:null,endDate:null,min:null,max:n()().format("YYYY-MM-DD"),date:n()().format("YYYY-MM-DD"),dateFormatted:n()().format("YYYY-MM-DD"),calenderMenu:!1,rangeSidebar:null,rangeSidebars:[]}},mounted:function(){this.init(),this.fetchReport()},methods:{init:function(){this.startDate=n()().startOf("month").format("YYYY-MM-DD"),this.endDate=n()().format("YYYY-MM-DD"),this.pickedString=n()(this.startDate).format("MMM DD, YYYY")+" - "+n()(this.endDate).format("MMM DD, YYYY"),this.pickers=[this.startDate,this.endDate],this.rangeSidebars=[{text:this.$t("Today"),from:n()().format("YYYY-MM-DD"),to:n()().format("YYYY-MM-DD")},{text:this.$t("Yesterday"),from:n()().subtract(1,"days").format("YYYY-MM-DD"),to:n()().format("YYYY-MM-DD")},{text:this.$t("This week"),from:n()().startOf("week").format("YYYY-MM-DD"),to:n()().format("YYYY-MM-DD")},{text:this.$t("Last week"),from:n()().subtract(14,"days").format("YYYY-MM-DD"),to:n()().subtract(7,"days").format("YYYY-MM-DD")},{text:this.$t("This month"),from:n()().startOf("month").format("YYYY-MM-DD"),to:n()().format("YYYY-MM-DD")},{text:this.$t("Last month"),from:n()().subtract(1,"month").startOf("month").format("YYYY-MM-DD"),to:n()().subtract(1,"month").endOf("month").format("YYYY-MM-DD")},{text:this.$t("Last 7 days"),from:n()().subtract(6,"days").format("YYYY-MM-DD"),to:n()().format("YYYY-MM-DD")},{text:this.$t("Last 30 days"),from:n()().subtract(29,"days").format("YYYY-MM-DD"),to:n()().format("YYYY-MM-DD")}]},onChange:function(t){2==t.length&&(n()(t[0])>n()(t[1])&&(this.pickers=t.reverse()),this.startDate=this.pickers[0],this.endDate=this.pickers[1],this.pickedString=n()(this.startDate).format("MMM DD, YYYY")+" - "+n()(this.endDate).format("MMM DD, YYYY"),console.log(t),this.fetchReport())},onDone:function(){this.calenderMenu=!1},onCancel:function(){this.calenderMenu=!1},onSelectRange:function(t){this.startDate=t.from,this.endDate=t.to,this.pickers=[t.from,t.to],this.pickedString=n()(this.startDate).format("MMM DD, YYYY")+" - "+n()(this.endDate).format("MMM DD, YYYY"),console.log(t.from,t.to),this.fetchReport()},onNext:function(){console.log("onNext")},onPrevious:function(){console.log("onPrevious")},fetchReport:function(){this.fetchIncomes(),this.fetchExpenses()},fetchIncomes:function(){var t=this,e="api/reports/statement?from=".concat(this.startDate,"&to=").concat(this.endDate,"&reportType=incomes");axios.get(e).then((function(e){t.incomes=e.data,e.data.forEach((function(e){t.totalIncome+=parseFloat(e.amount)}))})).catch((function(t){console.log(t)}))},fetchExpenses:function(){var t=this,e="api/reports/statement?from=".concat(this.startDate,"&to=").concat(this.endDate,"&reportType=expenses");axios.get(e).then((function(e){t.expenses=e.data,e.data.forEach((function(e){t.totalExpense+=parseFloat(e.amount)}))})).catch((function(t){}))}}},r=a(6),i=a(13),c=a.n(i),l=a(430),d=a(63),m=a(96),v=a(4),f=a(431),Y=a(432),u=a(417),p=a(102),h=a(90),_=a(438),D=a(99),x=a(64),M=a(98),k=a(5),b=a(101),g=a(104),y=a(433),C=a(118),S=a(435),V=a(47),$=Object(r.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-container",{attrs:{"grid-list-xs":""}},[a("v-row",[a("v-col",{staticStyle:{"max-height":"60px"},attrs:{cols:"12",lg:"4",sm:"12","max-width":"500"}},[a("v-menu",{ref:"calenderMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({staticClass:"centered-input",attrs:{solo:"",readonly:""},scopedSlots:t._u([{key:"prepend-inner",fn:function(){return[a("v-btn",{staticClass:"pa-0 ma-0",staticStyle:{border:"1px solid grey"},attrs:{text:"",icon:"",color:"text"},on:{click:t.onPrevious}},[a("v-icon",[t._v("mdi-chevron-left")])],1)]},proxy:!0},{key:"append",fn:function(){return[a("v-btn",{staticClass:"pa-0 ma-0",staticStyle:{border:"1px solid grey"},attrs:{text:"",icon:"",color:"text"},on:{click:t.onNext}},[a("v-icon",[t._v("mdi-chevron-right")])],1)]},proxy:!0}],null,!0),model:{value:t.pickedString,callback:function(e){t.pickedString=e},expression:"pickedString"}},s))]}}]),model:{value:t.calenderMenu,callback:function(e){t.calenderMenu=e},expression:"calenderMenu"}},[t._v(" "),a("v-card",[a("v-card-text",{staticClass:"ma-0 pa-0"},[a("v-row",[a("v-col",{staticClass:"py-0",staticStyle:{"border-right":"1px solid #e6e6e6"},attrs:{cols:"12",sm:"8"}},[a("v-date-picker",{staticStyle:{"box-shadow":"none"},attrs:{"no-title":"",success:"",landscape:"",max:t.max,range:t.range,"show-current":t.showCurrent,"full-width":""},on:{change:t.onChange},model:{value:t.pickers,callback:function(e){t.pickers=e},expression:"pickers"}}),t._v(" "),a("v-layout",[a("v-row",{staticClass:"px-3"},[a("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-calendar",label:t.$t("Start date"),id:"start_date",title:t.$t("Start date"),readonly:""},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),t._v(" "),a("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-calendar",label:t.$t("End date"),id:"end_date",title:t.$t("End date"),readonly:""},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1)],1)],1),t._v(" "),a("v-col",{staticClass:"pa-0 d-none d-lg-block d-md-block d-md-flex",attrs:{cols:"12",sm:"4"}},[a("v-list",{attrs:{dense:""}},[a("v-list-item-group",{attrs:{color:"primary"},model:{value:t.rangeSidebar,callback:function(e){t.rangeSidebar=e},expression:"rangeSidebar"}},t._l(t.rangeSidebars,(function(e,s){return a("v-list-item",{key:s,on:{click:function(a){return t.onSelectRange(e)}}},[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.text)}})],1)],1)})),1)],1)],1)],1),t._v(" "),a("v-divider",{staticClass:"pa-0 ma-0"})],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{text:"",color:"black"},on:{click:t.onCancel}},[t._v("CANCEL")]),t._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.onDone}},[t._v("DONE")])],1)],1)],1)],1),t._v(" "),a("v-col",{attrs:{cols:"12",lg:"8"}},[a("v-card",[a("v-card-title",[a("v-icon",[t._v(" mdi-cash ")]),t._v(" "+t._s(t.$t("incomes"))+"\n                ")],1),t._v(" "),a("v-card-text",[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v(t._s(t.$t("form.date")))]),t._v(" "),a("th",{staticClass:"text-left"},[t._v(t._s(t.$t("form.title")))]),t._v(" "),a("th",{staticClass:"text-left"},[t._v(t._s(t.$t("form.description")))]),t._v(" "),a("th",{staticClass:"text-left"},[t._v(t._s(t.$t("form.amount")))])])]),t._v(" "),a("tbody",t._l(t.incomes,(function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.received_at))]),t._v(" "),a("td",[t._v(t._s(e.title))]),t._v(" "),a("td",[t._v(t._s(e.description))]),t._v(" "),a("td",[t._v(t._s(e.amount))])])})),0)]},proxy:!0}])})],1),t._v(" "),a("v-card-title",[a("v-icon",[t._v(" mdi-cash-marker")]),t._v(" "+t._s(t.$t("expense"))+"\n                ")],1),t._v(" "),a("v-card-text",[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v(t._s(t.$t("form.date")))]),t._v(" "),a("th",{staticClass:"text-left"},[t._v(t._s(t.$t("form.title")))]),t._v(" "),a("th",{staticClass:"text-left"},[t._v(t._s(t.$t("form.description")))]),t._v(" "),a("th",{staticClass:"text-left"},[t._v(t._s(t.$t("form.amount")))])])]),t._v(" "),a("tbody",t._l(t.expenses,(function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.paid_at))]),t._v(" "),a("td",[t._v(t._s(e.title))]),t._v(" "),a("td",[t._v(t._s(e.description))]),t._v(" "),a("td",[t._v(t._s(e.amount))])])})),0)]},proxy:!0}])})],1),t._v(" "),a("v-card-actions",[a("v-list-item",[a("v-list-item-content",[a("v-list-item-action",[a("v-icon",[t._v(" mdi-bank ")])],1),t._v(" "),a("v-list-item-title",{class:t.totalIncome-t.totalExpense>=0?"green--text":"red--text"},[t._v("\n                                    "+t._s(t.totalIncome-t.totalExpense)+"\n                                ")]),t._v(" "),a("v-list-item-subtitle",[t._v("\n                                    "+t._s(t.$t("balance"))+"\n                                ")])],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=$.exports;c()($,{VApp:l.a,VBtn:d.a,VCard:m.a,VCardActions:v.a,VCardText:v.b,VCardTitle:v.c,VCol:f.a,VContainer:Y.a,VDatePicker:u.a,VDivider:p.a,VIcon:h.a,VLayout:_.a,VList:D.a,VListItem:x.a,VListItemAction:M.a,VListItemContent:k.a,VListItemGroup:b.a,VListItemSubtitle:k.b,VListItemTitle:k.c,VMenu:g.a,VRow:y.a,VSimpleTable:C.a,VSpacer:S.a,VTextField:V.a})}}]);